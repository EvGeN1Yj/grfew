# Global settings
global:
  namespace: django-app

# Image settings
image:
  repository: "77.232.36.136:30500/django-app"  # Замените на ваш IP
  tag: "latest"
  pullPolicy: IfNotPresent

# Image pull secrets (для приватного registry)
imagePullSecrets: "registry-secret"

# Application configuration
app:
  replicas: 3
  serviceType: ClusterIP
  port: 8000

# Resource limits
resources:
  requests:
    memory: "128Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# Environment variables
env:
  DEBUG: "False"
  ALLOWED_HOSTS: "*"
  DB_HOST: "{{ .Release.Name }}-postgresql"

# Ingress configuration
ingress:
  enabled: true
  className: "nginx"
  hosts:
    - host: django-app.local
      paths:
        - path: /
          pathType: Prefix
  tls: []

# PostgreSQL configuration (from Bitnami chart)
postgresql:
  enabled: true
  auth:
    database: "django_app"
    username: "django_user"
    password: "postgres_password_123"
  persistence:
    enabled: true
    size: 5Gi
  service:
    type: ClusterIP
    port: 5432

# Monitoring configuration
monitoring:
  enabled: true
  serviceMonitor:
    enabled: true

# Vault configuration
vault:
  enabled: false
  address: "http://vault.vault.svc.cluster.local:8200"
  secretPath: "secret/data/django-app"


# Настройки образа PostgreSQL (для встроенного template)
postgresql:
  image:
    repository: postgres
    tag: "13"
